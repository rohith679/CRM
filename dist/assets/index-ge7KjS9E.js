var I=s=>{throw TypeError(s)};var O=(s,e,t)=>e.has(s)||I("Cannot "+t);var r=(s,e,t)=>(O(s,e,"read from private field"),t?t.call(s):e.get(s)),x=(s,e,t)=>e.has(s)?I("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),f=(s,e,t,a)=>(O(s,e,"write to private field"),a?a.call(s,t):e.set(s,t),t),v=(s,e,t)=>(O(s,e,"access private method"),t);import{r as u,I as C,_ as U,U as V,V as F,W as L,X as K,Y as H,Z as $,$ as A,a0 as B,u as T,x as _,j as i}from"./index-C6HNqIpU.js";import{F as y,m as h,I as R,s as P}from"./ScrollToTop-CjsyFUjH.js";import{B as D}from"./TextArea-CvVvsx4l.js";var q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},J=function(e,t){return u.createElement(C,U({},e,{ref:t,icon:q}))},W=u.forwardRef(J),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},X=function(e,t){return u.createElement(C,U({},e,{ref:t,icon:Q}))},Y=u.forwardRef(X),d,p,n,c,m,M,S,z,Z=(z=class extends V{constructor(e,t){super();x(this,m);x(this,d);x(this,p);x(this,n);x(this,c);f(this,d,e),this.setOptions(t),this.bindMethods(),v(this,m,M).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var a;const t=this.options;this.options=r(this,d).defaultMutationOptions(e),F(this.options,t)||r(this,d).getMutationCache().notify({type:"observerOptionsUpdated",mutation:r(this,n),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&L(t.mutationKey)!==L(this.options.mutationKey)?this.reset():((a=r(this,n))==null?void 0:a.state.status)==="pending"&&r(this,n).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=r(this,n))==null||e.removeObserver(this)}onMutationUpdate(e){v(this,m,M).call(this),v(this,m,S).call(this,e)}getCurrentResult(){return r(this,p)}reset(){var e;(e=r(this,n))==null||e.removeObserver(this),f(this,n,void 0),v(this,m,M).call(this),v(this,m,S).call(this)}mutate(e,t){var a;return f(this,c,t),(a=r(this,n))==null||a.removeObserver(this),f(this,n,r(this,d).getMutationCache().build(r(this,d),this.options)),r(this,n).addObserver(this),r(this,n).execute(e)}},d=new WeakMap,p=new WeakMap,n=new WeakMap,c=new WeakMap,m=new WeakSet,M=function(){var t;const e=((t=r(this,n))==null?void 0:t.state)??K();f(this,p,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},S=function(e){H.batch(()=>{var t,a,l,o,g,w,E,k;if(r(this,c)&&this.hasListeners()){const b=r(this,p).variables,j=r(this,p).context,N={client:r(this,d),meta:this.options.meta,mutationKey:this.options.mutationKey};(e==null?void 0:e.type)==="success"?((a=(t=r(this,c)).onSuccess)==null||a.call(t,e.data,b,j,N),(o=(l=r(this,c)).onSettled)==null||o.call(l,e.data,null,b,j,N)):(e==null?void 0:e.type)==="error"&&((w=(g=r(this,c)).onError)==null||w.call(g,e.error,b,j,N),(k=(E=r(this,c)).onSettled)==null||k.call(E,void 0,e.error,b,j,N))}this.listeners.forEach(b=>{b(r(this,p))})})},z);function G(s,e){const t=$(),[a]=u.useState(()=>new Z(t,s));u.useEffect(()=>{a.setOptions(s)},[a,s]);const l=u.useSyncExternalStore(u.useCallback(g=>a.subscribe(H.batchCalls(g)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=u.useCallback((g,w)=>{a.mutate(g,w).catch(A)},[a]);if(l.error&&B(a.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:o,mutateAsync:l.mutate}}const ee=[{id:"1",name:"Super Admin",email:"superadmin@dental.com",password:"password123",role:"super_admin"},{id:"2",name:"Dr. John Smith",email:"doctor@dental.com",password:"password123",role:"doctor"},{id:"3",name:"Admin User",email:"admin@dental.com",password:"password123",role:"admin"},{id:"4",name:"Branch Head",email:"branchhead@dental.com",password:"password123",role:"branch_head"},{id:"5",name:"Patient User",email:"patient@dental.com",password:"password123",role:"patient"}],te=s=>{const e=btoa(JSON.stringify({alg:"HS256",typ:"JWT"})),t=btoa(JSON.stringify({userId:s.id,role:s.role,email:s.email,exp:Math.floor(Date.now()/1e3)+24*60*60})),a=btoa("mock-signature");return`${e}.${t}.${a}`},se=async s=>{await new Promise(a=>setTimeout(a,1e3));const e=ee.find(a=>a.email===s.email&&a.password===s.password);if(!e)throw new Error("Invalid credentials");return{token:te(e),user:{id:e.id,name:e.name,email:e.email,role:e.role}}},ae=()=>{const s=T(),e=_(o=>o.login),[t]=y.useForm(),a=G({mutationFn:se,onSuccess:o=>{switch(console.log("Login success data:",o),e(o.user,o.token),P.success("Login successful!"),console.log("User role:",o.user.role),o.user.role){case"super_admin":console.log("Navigating to /superadmin"),s("/superadmin");break;case"admin":case"branch_head":case"doctor":console.log("Navigating to /admin"),s("/admin");break;case"patient":case"user":console.log("Navigating to /patient-portal"),s("/patient-portal");break;default:console.log("Default case - navigating to /login"),s("/login")}},onError:o=>{console.error("Login error:",o),P.error(o.message||"Login failed")}}),l=o=>{console.log("Form values:",o),a.mutate(o)};return i.jsx(h.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"bg-white/95 backdrop-blur-sm p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/20",children:i.jsxs(y,{form:t,onFinish:l,layout:"vertical",size:"large",children:[i.jsx(h.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.5},children:i.jsx(y.Item,{label:i.jsx("span",{className:"text-gray-700 font-medium",children:"Email"}),name:"email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Please enter a valid email!"}],children:i.jsx(R,{type:"email",placeholder:"Enter your email",prefix:i.jsx(Y,{className:"text-gray-400"}),className:"rounded-lg border-2 border-gray-200 hover:border-purple-400 focus:border-purple-500 transition-colors"})})}),i.jsx(h.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.6},children:i.jsx(y.Item,{label:i.jsx("span",{className:"text-gray-700 font-medium",children:"Password"}),name:"password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"Password must be at least 6 characters!"}],children:i.jsx(R.Password,{placeholder:"Enter your password",prefix:i.jsx(W,{className:"text-gray-400"}),className:"rounded-lg border-2 border-gray-200 hover:border-purple-400 focus:border-purple-500 transition-colors"})})}),a.isError&&i.jsx(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-50 border-l-4 border-red-400 rounded-md",children:i.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Invalid credentials. Please try again."})}),i.jsx(h.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.7},children:i.jsx(y.Item,{children:i.jsx(D,{type:"primary",htmlType:"submit",loading:a.isPending,className:"w-full h-12 text-lg font-semibold bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 border-0 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:a.isPending?"Signing In...":"Sign In"})})})]})})},ie=()=>i.jsxs(h.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-center mb-8",children:[i.jsx(h.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4},className:"w-20 h-20 bg-gradient-to-r from-purple-400 to-blue-500 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:i.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})})}),i.jsx("h2",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"Welcome to Dental CRM"}),i.jsx("p",{className:"text-blue-100 text-lg",children:"Sign in to access your dashboard"})]}),de=()=>i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-800 flex items-center justify-center p-4 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-white/10 rounded-full blur-xl animate-pulse"}),i.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-purple-300/20 rounded-full blur-2xl animate-bounce"}),i.jsx("div",{className:"absolute top-1/2 left-1/4 w-64 h-64 bg-blue-300/15 rounded-full blur-xl animate-ping"})]}),i.jsxs(h.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"w-full max-w-md relative z-10",children:[i.jsx(ie,{}),i.jsx(ae,{})]})]});export{de as default};
